{"version":3,"sources":["index.ts"],"names":["canvasWidth","canvasHeight","ctx","document","getElementById","myChart","chart_js_1d","type","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","scales","y","beginAtZero","signum","val","fpart","Math","floor","rfpart","ipart","round","getEndPoints","m","xe","x","ye","px","py","constructor","sketch","p","measureTimes","t0","performance","now","angle","start","Dot","endc","i","cos","radians","length","sin","sketchBresenhemInt","t1","console","log","sketchBresenhemFloat","pi","PI","setup","createCanvas","strokeWeight","$","on","event","parseFloat","value","target","id","sketchBresenhemAA","sketchDDA","sketchWu","clear","push","translate","scale","line","beginShape","POINTS","endShape","pop","a","b","startx","starty","endx","endy","dx","dy","xsign","ysign","change","abs","e","step","buf_x","buf_y","stroke","vertex","signx","signy","xx","xy","yx","yy","dotBuffer","w","l","x_buf","y_buf","steep","grad","xpx11","xend","yend","xgap","parseInt","toString","ypx11","intery","xpx12","ypx12","p5"],"mappings":"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","file":"","sourcesContent":["import $ =  require(\"jquery\");\nimport Chart from 'chart.js';\n\nconst canvasWidth = 1000;\nconst canvasHeight = 1000;\n\n\n\nvar ctx = document.getElementById('chart');\nvar myChart = new Chart(ctx, {\n    type: 'bar',\n    data: {\n        labels: ['Брезенхем(Цел.)', 'Брезенхем(Вещ.)', 'Брезенхем(сглаж.)', 'Библиотека', 'ДДА', 'Ву'],\n        datasets: [{\n            label: '# of Votes',\n            data: [12, 19, 3, 5, 2, 3],\n            backgroundColor: [\n                'rgba(255, 99, 132, 0.2)',\n                'rgba(54, 162, 235, 0.2)',\n                'rgba(255, 206, 86, 0.2)',\n                'rgba(75, 192, 192, 0.2)',\n                'rgba(153, 102, 255, 0.2)',\n                'rgba(255, 159, 64, 0.2)'\n            ],\n            borderColor: [\n                'rgba(255, 99, 132, 1)',\n                'rgba(54, 162, 235, 1)',\n                'rgba(255, 206, 86, 1)',\n                'rgba(75, 192, 192, 1)',\n                'rgba(153, 102, 255, 1)',\n                'rgba(255, 159, 64, 1)'\n            ],\n            borderWidth: 1\n        }]\n    },\n    options: {\n\t\t\t\tresponsive: false,\n        scales: {\n            y: {\n                beginAtZero: true\n            }\n        }\n    }\n});\n\n/* CHART JS CONFIG */\n\nvar signum = function(val: number) {\n\tif (val < 0)\n\t\treturn -1;\n\n\tif (val > 0)\n\t\treturn 1;\n\n\treturn 0;\n}\n\nvar fpart = function(val: number) {\n\treturn val - Math.floor(val);\n}\n\nvar rfpart = function(val: number) {\n\treturn 1 - fpart(val);\n}\n\nvar ipart = function(val: number) {\t\n\treturn val - fpart(val);\n}\n\nvar round = function(val: number) {\n\treturn ipart(val + 0.5);\n}\n\nvar getEndPoints = function(val: Dot, m: number) {\n\tlet xe = Math.round(val.x);\n\tlet ye = val.y + (xe - val.x) * m;\n\n\treturn {px: Math.round(xe), py: Math.round(ye) };\n}\n\n\n\nclass Dot {\n\tx: number;\n\ty: number;\n\tconstructor(x: number, y: number) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n}\n\n\nvar sketch = function (p: p5) {\n\n\tvar measureTimes =  function() {\n\t\tlet t0 = performance.now();\n\t\tlet angle = 1;\n\t\tlet start: Dot = new Dot(0, 0);\n\t\tlet endc: Dot = new Dot(0, 0);\n\t\tfor (var i = 0; i < 90.0; i += angle) {\n\t\t\t\tendc.x = p.cos(radians(i * angle)) * length;\n\t\t\t\tendc.y = p.sin(radians(i * angle)) * length;\n\t\t\t\tsketchBresenhemInt(start, endc);\t\n\t\t}\n\n\t\tlet t1 = performance.now();\n\n\t\tconsole.log (t1 - t0, (t1 - t0) / 90);\n\t\t\n\t\tt0 = performance.now();\n\t\tangle = 1;\n\t\tfor (var i = 0; i < 90.0; i += angle) {\n\t\t\t\tendc.x = p.cos(radians(i * angle)) * length;\n\t\t\t\tendc.y = p.sin(radians(i * angle)) * length;\n\t\t\t\tsketchBresenhemFloat(start, endc);\t\n\t\t}\n\n\t\tt1 = performance.now();\n\n\t\tconsole.log (t1 - t0, (t1 - t0) / 90);\n\t}\n\tvar radians = function(angle: number) {\n\t\tvar pi = Math.PI;\n\t\treturn angle * (pi / 180.0);\n\t}\n\n\tp.setup = function() {\n\t\tp.createCanvas(canvasWidth, canvasHeight)\n\t\tp.strokeWeight(1);\n\n\t}\n\t$(\".showStat\").on('click', measureTimes);\n\n\t$(\".drawButton\").on('click', function(event) {\n\t\tlet length = parseFloat(document.getElementById(\"lengthInput\").value);\n\n\t\tlet angle = parseFloat(document.getElementById(\"angle\").value);\n\n\t\tlet start = new Dot(0, 0);\n\n\t\tvar sketch = sketchBresenhemInt;\n\n\t\tswitch(event.target.id) {\n\t\t\tcase \"bresenhemInt\": \n\t\t\t\tconsole.log(\"bresenhem Int\");\n\t\t\t\tsketch = sketchBresenhemInt;\n\t\t\t\tbreak;\n\t\t\n\t\t\tcase \"bresenhemFloat\":\n\t\t\t\tconsole.log(\"bresenhem Float\");\n\t\t\t\tsketch = sketchBresenhemFloat;\n\t\t\t\tbreak;\n\n\t\t\tcase \"bresenhemAA\":\n\t\t\t\tconsole.log(\"bresenhem AA\");\n\t\t\t\tsketch = sketchBresenhemAA;\n\t\t\t\tbreak;\n\t\t\tcase \"dda\":\n\t\t\t\tconsole.log(\"dda\");\n\t\t\t\tsketch = sketchDDA;\n\t\t\t\tbreak;\n\t\t\tcase \"wu\":\n\t\t\t\tconsole.log(\"wu\");\n\t\t\t\tsketch = sketchWu;\n\t\t\tbreak;\n\t\t\tcase \"library\": \n\t\t\t\tconsole.log(\"lib\");\n\t\t\tbreak;\n\n\t\t}\n\n\t\tp.clear();\n\t\tp.push();\n\t\tp.translate(canvasWidth / 2, canvasHeight / 2);\n\t\tp.scale(1, -1);\n\t\tlet endc: Dot = new Dot(0, 0);\n\n\t\tif (event.target.id === \"library\") {\n\t\t\tconsole.log(\"drawing libs\");\n\n\t\t\tfor (var i = 0; i < 360; i += angle) {\n\n\t\t\t\tendc.x = p.cos(radians(i * angle)) * length;\n\t\t\t\tendc.y = p.sin(radians(i * angle)) * length;\n\t\t\t\tp.line(start.x, start.y, endc.x, endc.y);\n\t\t\t\t\n\t\t\t}\n\n\t\t\n\t\t} else {\n\n\t\t\tp.beginShape(p.POINTS);\n\n\n\t\t\tfor (var i = 0; i < 360; i += angle) {\n\n\t\t\t\tendc.x = p.cos(radians(i * angle)) * length;\n\t\t\t\tendc.y = p.sin(radians(i * angle)) * length;\n\t\t\t\tsketch(start, endc);\t\n\t\t\t\t\n\t\t\t}\n\n\t\t\tp.endShape();\n\t\t}\n\n\t\tp.pop();\n\t\t\t\n\t})\n\n\tfunction sketchBresenhemInt(a: Dot, b: Dot) {\n\n\t\tlet startx = a.x, starty = a.y;\n\t\tlet endx = b.x, endy = b.y;\n\n\t\tlet dx = endx - startx, dy = endy - starty;\n\n\t\tlet xsign = signum(dx);\n\t\tlet ysign = signum(dy);\n\n\t\tlet change: number = 0;\n\n\t\tdx = Math.abs(dx);\n\t\tdy = Math.abs(dy);\n\n\t\tif (dx < dy) {\n\t\t} else {\n\t\t\t[dx, dy] = [dy, dx];\n\t\t\tchange = 1;\n\t\t}\n\n\t\tlet e = 2 * dy - dx;\n\n\t\tlet i = 0;\n\n\t\tlet step = 1;\n\t\tlet x = Math.round(startx), y = Math.round(starty);\n\t\tlet buf_x = x, buf_y = y;\n\n\t\twhile (i < dx + 1) {\n\t\t\tp.stroke(0, 0, 0);\n\t\t\tp.vertex(x, y);\n\n\t\t\tif (e >= 0) {\n\t\t\t\tif (change === 1)\n\t\t\t\t\tx += xsign;\n\t\t\t\telse\n\t\t\t\t\ty += ysign;\n\t\t\t\te -= 2 * dx;\n\t\t\t}\n\t\t\tif (e <= 0) {\n\t\t\t\tif (change === 1)\n\t\t\t\t\ty += ysign;\n\t\t\t\telse \n\t\t\t\t\tx += xsign;\n\t\t\t\te += 2 * dx;\n\t\t\t}\n\t\t\ti++;\n\n\t\t\tif (buf_x !== x && buf_y !== y)\n\t\t\t\tstep++;\n\n\t\t\tbuf_x = x, buf_y = y;\n\n\t\t}\n\n\t\treturn step;\n\t}\n\n\tfunction sketchBresenhemFloat(a: Dot, b: Dot) {\n\n\t\tlet startx = a.x;\n\t\tlet starty = a.y;\n\n\t\tlet endx = b.x;\n\t\tlet endy = b.y;\n\n\t\tlet dx = endx - startx;\n\t\tlet dy = endy - starty;\n\n\t\tlet signx = signum(dx);\n\t\tlet signy = signum(dy);\n\n\t\tdx = Math.abs(dx);\n\t\tdy = Math.abs(dy);\n\n\t\tlet xx, xy, yx, yy;\n\n\t\tif (dx > dy) {\n\t\t\txx = signx;\n\t\t\txy = 0;\n\t\t\tyx = 0;\n\t\t\tyy = signy;\n\t\t} else {\n\t\t\t[dx, dy] = [dy, dx];\n\t\t\txx = 0;\n\t\t\txy = signy;\n\t\t\tyx = signx;\n\t\t\tyy = 0;\n\t\t}\n\n\t\tlet m = dy / dx;\n\t\tlet e = m - 0.5;\n\t\tlet y = 0, x = 0;\n\n\t\tlet step = 1;\n\t\tlet buf_x = x, buf_y = y;\n\n\t\twhile (x < dx + 1) {\n\t\t\tp.stroke(0, 0, 0, 255);\n\t\t\tp.vertex(startx + x * xx + y * yx, starty + x * xy + y * yy);\n\n\t\t\tif (e >= 0) {\n\t\t\t\ty++;\n\t\t\t\te--\n\t\t\t}\n\n\t\t\te += m;\n\n\t\t\tx++;\n\n\t\t\tif (buf_x !== x && buf_y !== y)\n\t\t\t\tstep++;\n\n\t\t\tbuf_x = x;\n\t\t\tbuf_y = y;\n\t\t}\n\t\treturn step;\n\t}\n\n\tfunction sketchBresenhemAA(a: Dot, b: Dot) {\n\n\t\tdotBuffer = [];\n\t\tlet startx = a.x;\n\t\tlet starty = a.y;\n\n\t\tlet endx = b.x;\n\t\tlet endy = b.y;\n\n\t\tlet dx = endx - startx;\n\t\tlet dy = endy - starty;\n\n\t\tlet signx = signum(dx);\n\t\tlet signy = signum(dy);\n\n\t\tdx = Math.abs(dx);\n\t\tdy = Math.abs(dy);\n\n\t\tlet xx, xy, yx, yy;\n\n\t\tif (dx > dy) {\n\t\t\txx = signx;\n\t\t\txy = 0;\n\t\t\tyx = 0;\n\t\t\tyy = signy;\n\t\t} else {\n\t\t\t[dx, dy] = [dy, dx];\n\t\t\txx = 0;\n\t\t\txy = signy;\n\t\t\tyx = signx;\n\t\t\tyy = 0;\n\t\t}\n\n\t\tlet m = dy / dx;\n\t\tlet e = 0.5;\n\t\tlet w = 1;\n\t\tlet y = 0, x = 0;\n\n\t\tlet step = 1;\n\n\t\tlet buf_x = x, buf_y = y;\n\n\t\twhile (x < dx + 1) {\n\t\t\tp.stroke(0, 0, 0, 255 * e);\n\t\t\tp.vertex(startx + x * xx + y * yx, starty + x * xy + y * yy);\n\n\t\t\tif (e >= w - m) {\n\t\t\t\ty++;\n\t\t\t\te-=w;\n\t\t\t}\n\n\t\t\te += m;\n\t\t\tx++;\n\n\t\t\tif (buf_x !== x && buf_y !== y)\n\t\t\t\tstep++;\n\n\t\t\tbuf_y = y, buf_x = x;\n\t\t}\n\t\treturn step;\n\t}\n\n\tfunction sketchDDA(a: Dot, b: Dot) {\n\n\t\tlet dx = b.x - a.x;\n\t\tlet dy = b.y - a.y;\n\n\t\tlet l: number;\n\n\t\tif (Math.abs(dx) > Math.abs(dy))\n\t\t\tl = Math.abs(dx);\n\t\telse\n\t\t\tl = Math.abs(dy);\n\n\t\tdx /= l;\n\t\tdy /= l;\n\n\t\tlet x = a.x, y = a.y;\n\n\t\tp.stroke(0, 0, 0);\n\n\t\tp.vertex(x, y);\n\n\t\tlet i = 0;\n\n\t\tlet x_buf = x, y_buf = y;\n\n\t\tlet step = 0;\n\n\t\twhile (i < l) {\n\t\t\tx += dx;\n\t\t\ty += dy;\n\n\t\t\tp.stroke(0, 0, 0);\n\t\t\tp.vertex(x, y);\n\n\t\t\tif (Math.round(x_buf) != Math.round(x) && \n\t\t\t\t\tMath.round(y_buf) != Math.round(y))\n\t\t\t\tstep++;\n\n\t\t\tx_buf = x, y_buf = y;\n\n\t\t\ti++;\n\t\t}\n\n\t\treturn step;\n\t}\n\n\tfunction sketchWu(a: Dot, b: Dot) {\n\n\t\tlet startx = a.x, starty = a.y, endx = b.x, endy = b.y;\n\n\t\tlet steep: boolean = Math.abs(b.y - a.y) > Math.abs(b.x - a.x);\n\n\t\tif (steep) {\n\t\t\t[startx, starty] = [starty, startx];\n\t\t\t[endx, endy] = [endy, endx];\n\t\t}\n\n\t\tif (endx < startx) {\n\t\t\t[startx, endx] = [endx, startx];\n\t\t\t[starty, endy] = [endy, starty];\n\t\t}\n\n\t\tlet dx = b.x - a.x;\n\t\tlet dy = b.y - a.y;\n\n\t\tlet m = dy / dx;\n\n\t\tlet grad = (dx === 0) ? 1: m;\n\n\t\tlet xpx11:number;\n\n\t\tlet xend = round(startx), yend = starty + grad * (xend - startx);\n\t\tlet xgap = rfpart(startx + 0.5);\n\t\txpx11 = parseInt(xend.toString());\n\t\tlet ypx11 = ipart(yend);\n\n\t\tlet intery;\n\n\t\tif (steep) {\n\t\t\tp.stroke(0, 0, 0, rfpart(yend) * xgap * 255);\n\t\t\tp.vertex(ypx11, xpx11);\n\t\t\tp.stroke(0, 0, 0, fpart(yend) * xgap * 255);\n\t\t\tp.vertex(ypx11 + 1, xpx11);\n\t\t} else {\n\t\t\tp.stroke(0, 0, 0, rfpart(yend) * xgap * 255);\n\t\t\tp.vertex(xpx11, ypx11);\n\t\t\tp.stroke(0, 0, 0, fpart(yend) * xgap * 255);\n\t\t\tp.vertex(xpx11, ypx11 + 1);\n\t\t\t\n\t\t}\n\n\t\tintery = yend + grad;\n\n\t\tlet xpx12:number;\n\n\t\txend = round(endx);\n\t\tyend = endy + grad * (xend - endx);\n\t\txgap = rfpart(endx + 0.5);\n\t\txpx12 = parseInt(xend.toString());\n\t\tlet ypx12 = ipart(yend);\n\n\t\tif (steep) {\n\t\t\tp.stroke(0, 0, 0, rfpart(yend) * xgap * 255);\n\t\t\tp.vertex(ypx12, xpx12);\n\t\t\tp.stroke(0, 0, 0, fpart(yend) * xgap * 255);\n\t\t\tp.vertex(ypx12 + 1, xpx12);\n\t\t\t\n\t\t} else {\n\t\t\tp.stroke(0, 0, 0, rfpart(yend) * xgap * 255);\n\t\t\tp.vertex(xpx12, ypx12);\n\t\t\tp.stroke(0, 0, 0, fpart(yend) * xgap * 255);\n\t\t\tp.vertex(xpx12, ypx12 + 1);\n\t\t}\n\n\t\tlet step: number = 0;\n\n\t\tfor (let x = xpx11 + 1; x < xpx12; x++) {\n\t\t\tif (steep) {\n\t\t\t\tp.stroke(0, 0, 0, rfpart(intery));\n\t\t\t\tp.vertex(ipart(intery), x);\n\t\t\t\tp.stroke(0, 0, 0, fpart(intery));\n\t\t\t\tp.vertex(ipart(intery) + 1, x);\n\t\t\t} else {\n\t\t\t\tp.stroke(0, 0, 0, rfpart(intery));\n\t\t\t\tp.vertex(x, ipart(intery));\n\t\t\t\tp.stroke(0, 0, 0, fpart(intery));\n\t\t\t\tp.vertex(x, ipart(intery));\n\t\t\t}\n\n\t\t\tif (ipart(intery) != ipart(intery + grad) && x < xpx12)\n\t\t\t\tstep++;\n\n\t\t\tintery += grad;\n\t\t}\n\n\t\treturn step;\n\n\t}\n\n}\n\nnew p5(sketch)\n"]}